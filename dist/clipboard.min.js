!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Clipboard=e()}(this,function(){"use strict";function t(t,e){return t.indexOf(e)>-1}function e(t){return"string"==typeof t}function r(t){return void 0===t}function i(t){return Array.isArray(t)}function n(t,e){return e=e>=0?e:0,Array.from?Array.prototype.slice.call(Array.from(t),e):Array.prototype.slice.call(t,e)}function s(t,e){function r(){}r.prototype=e.prototype;var i=new r;i.constructor=t,t.prototype=i}function o(t){if(!e(t))return!1;var r=/([a-z\d])([A-Z])/g;return t=t.replace(r,"$1-$2").toLowerCase()}function u(t,e){if(t.dataset)return e?t.dataset[e]:t.dataset;for(var r={},i=0,n=t.attributes.length;i<n;i+=1)t.attributes[i].nodeName.indexOf("data-")>-1&&(r[t.attributes[i].nodeName.slice(5)]=t.attributes[i].nodeValue);return e?r[o(e)]:r}function c(t,e,r){t.dataset?t.dataset[e]=r:t.setAttribute("data-"+o(e),r)}function a(t){if(this instanceof a){if(!r(t))for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);return this.subscribers={},this}return new a(t)}function f(e){t(b,e.target)&&!function(){var t=h[b.indexOf(e.target)],r=t.trigger.innerHTML?"innerHTML":"value",i=t.trigger[r];if(1===t.type){t.target.select();try{document.execCommand(t.action),t.target.blur(),t.notify("success",t),t.trigger[r]="OK!️",t.trigger.disabled=!0,setTimeout(function(){t.trigger[r]=i,t.trigger.disabled=!1},1500)}catch(e){t.notify("error",t)}}else if(2===t.type){var n=t.target.innerHTML;l.value=n,l.select();try{document.execCommand(t.action),l.blur(),t.notify("success",t),t.trigger[r]="OK!️",t.trigger.disabled=!0,setTimeout(function(){t.trigger[r]=i,t.trigger.disabled=!1},1500)}catch(e){l.blur(),alert("error"),t.notify("error",t)}}}()}function d(t){a.call(this);var r=e(t)?document.querySelector(t):t;if(u(r,"registered"))return h[b.indexOf(r)];var i=document.querySelector(u(r,"clipboard-target")),n=void 0,s=void 0;return/input|textarea/g.test(i.nodeName.toLowerCase())?(n="cut"===u(r,"clipboard-action")?"cut":"copy",s=1):(n="copy",s=2),this.trigger=r,this.target=i,this.action=n,this.type=s,h.push(this),b.push(r),c(r,"registered","true"),this}a.prototype={constructor:a,subscribe:function(t,e){r(this.subscribers[t])&&(this.subscribers[t]=[]);{if(!i(e))return this.subscribers[t].push(e),this;for(var n=0,s=e.length;n<s;n++)this.subscribers[t].push(e[n])}},on:function(t,e){return this.subscribe(t,e)},notify:function(t,e){if(i(this.subscribers[t]))for(var r=this.subscribers[t],n=0,s=r.length;n<s;n++)r[n](e,t);return this},dispatch:function(t,e){return this.notify(t,e)},unsubscribe:function(t,e){if(i(this.subscribers[t])){var r=this.subscribers[t];if(i(e))for(var n=0,s=r.length;n<s;n++)for(var o=0,u=e.length;o<u;o++)r[n]===e[o]&&r.splice(n,1);else for(var c=0,a=r.length;c<a;c++)r[c]===e&&r.splice(c,1)}return this},cacel:function(t,e){return this.unsubscribe(t,e)}};var l=document.createElement("input");l.id="fakeInput",l.type="text",l.value=" ",l.style.position="absolute",l.style.left="-9999px",l.style.width="1px",l.style.height="1px",document.body.appendChild(l);var p="0.0.1",h=[],b=[];return s(d,a),d.ver=d.version=p,d.init=function(t){for(var e=n(document.querySelectorAll("."+t)),r=0,i=e.length;r<i;r++)new d(e[r]);return h},d.prototype.destroy=function(){var t=this,e=h.indexOf(t);return e>-1&&(h.splice(e,1),b.splice(e,1),!0)},window.addEventListener("click",f,!1),d});