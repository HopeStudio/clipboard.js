!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Clipboard=e()}(this,function(){"use strict";function t(t,e){return t.indexOf(e)>-1}function e(t){return"string"==typeof t}function r(t){return void 0===t}function n(t){return Array.isArray(t)}function i(t,e){function r(){}r.prototype=e.prototype;var n=new r;n.constructor=t,t.prototype=n}function o(){this.subscribers={}}function u(e){t(h,e.target)&&!function(){var t=l[h.indexOf(e.target)],r=t.trigger.innerHTML?"innerHTML":"value",n=t.trigger[r];if(1===t.type){t.target.select();try{document.execCommand(t.action),t.target.blur(),t.notify("success",t),t.trigger[r]="✔️",t.trigger.disabled=!0,setTimeout(function(){t.trigger[r]=n,t.trigger.disabled=!1},1500)}catch(e){t.notify("error",t)}}else if(2===t.type){var i=t.target.innerHTML;c.value=i,c.select();try{document.execCommand(t.action),c.blur(),t.notify("success",t),t.trigger[r]="✔️",t.trigger.disabled=!0,setTimeout(function(){t.trigger[r]=n,t.trigger.disabled=!1},1500)}catch(e){c.blur(),alert("error"),t.notify("error",t)}}}()}function s(t){o.call(this);var r=e(t)?document.querySelector(t):t;if(r.dataset.registered)return l[h.indexOf(r)];var n=document.querySelector(r.dataset.clipboardTarget),i=void 0,u=void 0;return/input|textarea/g.test(n.nodeName.toLowerCase())?(i="cut"===r.dataset.clipboardAction?"cut":"copy",u=1):(i="copy",u=2),this.trigger=r,this.target=n,this.action=i,this.type=u,l.push(this),h.push(r),r.dataset.registered=!0,this}o.prototype={constructor:o,subscribe:function(t,e){r(this.subscribers[t])&&(this.subscribers[t]=[]);{if(!n(e))return this.subscribers[t].push(e),this;for(var i=0,o=e.length;i<o;i++)this.subscribers[t].push(e[i])}},on:function(t,e){return this.subscribe(t,e)},notify:function(t,e){if(n(this.subscribers[t]))for(var r=this.subscribers[t],i=0,o=r.length;i<o;i++)r[i](e,t);return this},dispatch:function(t,e){return this.notify(t,e)},unsubscribe:function(t,e){if(n(this.subscribers[t])){var r=this.subscribers[t];if(n(e))for(var i=0,o=r.length;i<o;i++)for(var u=0,s=e.length;u<s;u++)r[i]===e[u]&&r.splice(i,1);else for(var c=0,a=r.length;c<a;c++)r[c]===e&&r.splice(c,1)}return this},cacel:function(t,e){return this.unsubscribe(t,e)}};var c=document.createElement("input");c.id="fakeInput",c.type="text",c.value=" ",c.style.position="absolute",c.style.left="-9999px",c.style.width="1px",c.style.height="1px",document.body.appendChild(c);var a=(function(){function t(t){this.value=t}function e(e){function r(t,e){return new Promise(function(r,i){var s={key:t,arg:e,resolve:r,reject:i,next:null};u?u=u.next=s:(o=u=s,n(t,e))})}function n(r,o){try{var u=e[r](o),s=u.value;s instanceof t?Promise.resolve(s.value).then(function(t){n("next",t)},function(t){n("throw",t)}):i(u.done?"return":"normal",u.value)}catch(t){i("throw",t)}}function i(t,e){switch(t){case"return":o.resolve({value:e,done:!0});break;case"throw":o.reject(e);break;default:o.resolve({value:e,done:!1})}o=o.next,o?n(o.key,o.arg):u=null}var o,u;this._invoke=r,"function"!=typeof e.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)},{wrap:function(t){return function(){return new e(t.apply(this,arguments))}},await:function(e){return new t(e)}}}(),function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}),f="0.0.1",l=[],h=[];return i(s,o),s.ver=s.version=f,s.init=function(t){for(var e=[].concat(a(document.querySelectorAll("."+t))),r=0,n=e.length;r<n;r++)new s(e[r]);return l},s.prototype.destroy=function(){var t=this,e=l.indexOf(t);return e>-1&&(l.splice(e,1),h.splice(e,1),!0)},window.addEventListener("click",u,!1),s});